{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/bipin/Desktop/test_portfolio/src/lib/imgbb.ts"],"sourcesContent":["import axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\ninterface ImgBBResponseData {\n  url: string;\n  [key: string]: string;\n}\n\ninterface ImgBBResponse {\n  data: {\n    data: ImgBBResponseData;\n    // Removed string index signature to fix type error\n  };\n  // Removed string index signature to fix type error\n}\n\nexport const getImgBBUrl = async (files: FileList | File[]): Promise<string | undefined> => {\n  if (!files || files.length === 0) {\n    toast.error(\"No file selected.\");\n    return;\n  }\n  const file: File = files[0];\n  const formData = new FormData();\n  formData.append(\"image\", file);\n\n  try {\n    const imgbb: ImgBBResponse = await axios.post(\n      `https://api.imgbb.com/1/upload?key=${process.env.NEXT_PUBLIC_IMGBB_API_KEY}`,\n      formData\n    );\n    if (!imgbb.data || !imgbb.data.data || !imgbb.data.data.url) {\n      throw new Error(\"Invalid response from imgbb\");\n    }\n\n    toast.success(\"Image uploaded successfully!\");\n    return imgbb.data.data.url;\n  } catch (error: unknown) {\n    console.error(\"Error uploading image:\", error);\n    toast.error(\n      `Error uploading image: ${\n        typeof error === \"object\" && error !== null && \"message\" in error\n          ? (error as { message?: string }).message\n          : \"Unknown error\"\n      }`\n    );\n  } finally {\n    toast.dismiss(); // Dismiss the loading toast\n  }\n};\n"],"names":[],"mappings":";;;AA2B4C;AA3B5C;AACA;;;AAeO,MAAM,cAAc,OAAO;IAChC,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG;QAChC,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACZ;IACF;IACA,MAAM,OAAa,KAAK,CAAC,EAAE;IAC3B,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,SAAS;IAEzB,IAAI;QACF,MAAM,QAAuB,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAC3C,CAAC,mCAAmC,wEAAyC,EAC7E;QAEF,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;YAC3D,MAAM,IAAI,MAAM;QAClB;QAEA,sJAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QACd,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG;IAC5B,EAAE,OAAO,OAAgB;QACvB,QAAQ,KAAK,CAAC,0BAA0B;QACxC,sJAAA,CAAA,QAAK,CAAC,KAAK,CACT,CAAC,uBAAuB,EACtB,OAAO,UAAU,YAAY,UAAU,QAAQ,aAAa,QACxD,AAAC,MAA+B,OAAO,GACvC,iBACJ;IAEN,SAAU;QACR,sJAAA,CAAA,QAAK,CAAC,OAAO,IAAI,4BAA4B;IAC/C;AACF","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/bipin/Desktop/test_portfolio/src/app/%28pages%29/admin/Images.tsx"],"sourcesContent":["\"use client\";\n\nimport { databases } from \"@/lib/appwrite\";\nimport { getImgBBUrl } from \"@/lib/imgbb\";\nimport Image from \"next/image\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { FaTrash } from \"react-icons/fa\";\nimport { toast } from \"react-toastify\";\n\ntype ImageDocument = {\n  $id: string;\n  imgUrl: string;\n  deleteUrl?: string;\n};\n\nconst Images = () => {\n  const [images, setImages] = useState<ImageDocument[]>([]);\n\n  useEffect(() => {\n    databases\n      .listDocuments(\n        process.env.NEXT_PUBLIC_APPWRITE_DATABASE_ID!,\n        process.env.NEXT_PUBLIC_APPWRITE_IMAGES_ID!\n      )\n      .then((response) => {\n        setImages(\n          response.documents.map((doc) => ({\n            $id: doc.$id,\n            imgUrl: doc.imgUrl,\n            deleteUrl: doc.deleteUrl,\n          }))\n        );\n      })\n      .catch((error) => {\n        console.error(\"Error fetching images:\", error);\n        toast.error(\n          `Error fetching images: ${error.message || \"Unknown error\"}`\n        );\n      });\n  }, []);\n\n  const addImage = async (e: ChangeEvent<HTMLInputElement>) => {\n    toast.loading(\"Adding image...\");\n    const files = e.target.files;\n    if (!files || files.length === 0) {\n      toast.error(\"No file selected.\");\n      return;\n    }\n    const imgbbUrl = await getImgBBUrl(files);\n\n    if (!imgbbUrl) {\n      toast.error(\"Unable to upload in imgbb\");\n      return;\n    }\n\n    const newImage = await databases.createDocument(\n      process.env.NEXT_PUBLIC_APPWRITE_DATABASE_ID!,\n      process.env.NEXT_PUBLIC_APPWRITE_IMAGES_ID!,\n      \"unique()\",\n      {\n        imgUrl: imgbbUrl,\n      }\n    );\n    setImages((prevImages) => [\n      ...prevImages,\n      {\n        imgUrl: imgbbUrl,\n        ...newImage,\n      },\n    ]);\n  };\n\n  const deleteImage = async ($id: string) => {\n    toast.loading(\"Deleting image...\");\n    try {\n      //   await axios.delete(deleteUrl);\n      await databases.deleteDocument(\n        process.env.NEXT_PUBLIC_APPWRITE_DATABASE_ID!,\n        process.env.NEXT_PUBLIC_APPWRITE_IMAGES_ID!,\n        $id\n      );\n      setImages((prevImages) => prevImages.filter((img) => img.$id !== $id));\n      toast.success(\"Image deleted successfully!\");\n    } catch (error) {\n      console.error(\"Error deleting image:\", error);\n      toast.error(\n        `Error deleting image: ${\n          typeof error === \"object\" && error !== null && \"message\" in error\n            ? (error as { message?: string }).message\n            : \"Unknown error\"\n        }`\n      );\n    } finally {\n      toast.dismiss(); // Dismiss the loading toast\n    }\n  };\n\n  return (\n    <div className=\"w-full max-w-5xl mx-auto my-10\">\n      <div className=\"text-center text-3xl font-bold my-5\">Manage Images</div>\n      <div className=\"flex flex-wrap gap-3 w-full justify-center\">\n        {images.length > 0 &&\n          images.map((image, index) => (\n            <div key={index} className=\"w-full max-w-xs p-2 relative\">\n              <Image\n                src={image.imgUrl}\n                alt={`Image ${index + 1}`}\n                className=\"w-full h-auto rounded-lg shadow-md\"\n                width={500}\n                height={300}\n              />\n              <button\n                className=\"btn btn-error mt-2 absolute top-2 right-4 z-10\"\n                onClick={() => deleteImage(image.$id)}\n              >\n                <FaTrash />\n              </button>\n            </div>\n          ))}\n      </div>\n\n      <div className=\"flex gap-3 items-center p-3 mt-5 justify-center w-full\">\n        <p className=\"text-xl\">Add new image:</p>\n        <input\n          className=\"file-input\"\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={addImage}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Images;\n"],"names":[],"mappings":";;;AAqBQ;;AAnBR;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAeA,MAAM,SAAS;;IACb,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB,EAAE;IAExD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACR,yIAAA,CAAA,YAAS,CACN,aAAa,qHAIb,IAAI;oCAAC,CAAC;oBACL,UACE,SAAS,SAAS,CAAC,GAAG;4CAAC,CAAC,MAAQ,CAAC;gCAC/B,KAAK,IAAI,GAAG;gCACZ,QAAQ,IAAI,MAAM;gCAClB,WAAW,IAAI,SAAS;4BAC1B,CAAC;;gBAEL;mCACC,KAAK;oCAAC,CAAC;oBACN,QAAQ,KAAK,CAAC,0BAA0B;oBACxC,sJAAA,CAAA,QAAK,CAAC,KAAK,CACT,CAAC,uBAAuB,EAAE,MAAM,OAAO,IAAI,iBAAiB;gBAEhE;;QACJ;2BAAG,EAAE;IAEL,MAAM,WAAW,OAAO;QACtB,sJAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QACd,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;QAC5B,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG;YAChC,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,MAAM,WAAW,MAAM,CAAA,GAAA,sHAAA,CAAA,cAAW,AAAD,EAAE;QAEnC,IAAI,CAAC,UAAU;YACb,sJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;YACZ;QACF;QAEA,MAAM,WAAW,MAAM,yIAAA,CAAA,YAAS,CAAC,cAAc,qHAG7C,YACA;YACE,QAAQ;QACV;QAEF,UAAU,CAAC,aAAe;mBACrB;gBACH;oBACE,QAAQ;oBACR,GAAG,QAAQ;gBACb;aACD;IACH;IAEA,MAAM,cAAc,OAAO;QACzB,sJAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QACd,IAAI;YACF,mCAAmC;YACnC,MAAM,yIAAA,CAAA,YAAS,CAAC,cAAc,qHAG5B;YAEF,UAAU,CAAC,aAAe,WAAW,MAAM,CAAC,CAAC,MAAQ,IAAI,GAAG,KAAK;YACjE,sJAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,sJAAA,CAAA,QAAK,CAAC,KAAK,CACT,CAAC,sBAAsB,EACrB,OAAO,UAAU,YAAY,UAAU,QAAQ,aAAa,QACxD,AAAC,MAA+B,OAAO,GACvC,iBACJ;QAEN,SAAU;YACR,sJAAA,CAAA,QAAK,CAAC,OAAO,IAAI,4BAA4B;QAC/C;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BAAsC;;;;;;0BACrD,6LAAC;gBAAI,WAAU;0BACZ,OAAO,MAAM,GAAG,KACf,OAAO,GAAG,CAAC,CAAC,OAAO,sBACjB,6LAAC;wBAAgB,WAAU;;0CACzB,6LAAC,gIAAA,CAAA,UAAK;gCACJ,KAAK,MAAM,MAAM;gCACjB,KAAK,CAAC,MAAM,EAAE,QAAQ,GAAG;gCACzB,WAAU;gCACV,OAAO;gCACP,QAAQ;;;;;;0CAEV,6LAAC;gCACC,WAAU;gCACV,SAAS,IAAM,YAAY,MAAM,GAAG;0CAEpC,cAAA,6LAAC,iJAAA,CAAA,UAAO;;;;;;;;;;;uBAZF;;;;;;;;;;0BAkBhB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;kCAAU;;;;;;kCACvB,6LAAC;wBACC,WAAU;wBACV,MAAK;wBACL,QAAO;wBACP,UAAU;;;;;;;;;;;;;;;;;;AAKpB;GArHM;KAAA;uCAuHS","debugId":null}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///home/bipin/Desktop/test_portfolio/src/app/%28pages%29/admin/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Images from \"@/app/(pages)/admin/Images\";\n\nconst Admin = () => {\n  return (\n    <div className=\"w-full mx-auto max-w-5xl my-10\">\n      <div className=\"text-center text-3xl font-bold my-5\">Admin Dashboard</div>\n      <Images />\n    </div>\n  );\n};\n\nexport default Admin;\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIA,MAAM,QAAQ;IACZ,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BAAsC;;;;;;0BACrD,6LAAC,8IAAA,CAAA,UAAM;;;;;;;;;;;AAGb;KAPM;uCASS","debugId":null}}]
}